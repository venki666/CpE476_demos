This code is an example of how to run OpenCV Code inside of a ROS node.

Basically, you create a standard ROS node and then just write some OpenCV
code inside of it and it'll do what you say.
